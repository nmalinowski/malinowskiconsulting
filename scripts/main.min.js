const portfolioData=[{title:"Malinowski Consulting",image:"images/malinowskiconsulting-thumb.png",description:"Designed and crafted our very own site, check it out! Modern, responsive design with space-themed aesthetics and smooth animations.",client:"Malinowski Consulting, LLC",date:"December 2025",service:"Web Development",link:"https://www.malinowskiconsulting.com"},{title:"QuikTriage AI",image:"images/quiktriage-thumb.png",description:"AI-powered symptom checker and medical triage chatbot helping users assess their health concerns with intelligent conversational interfaces.",client:"Healthcare Startup",date:"October 2024",service:"Custom AI Solutions",link:"https://www.quiktriage.com"},{title:"SE Masonry Repair",image:"images/semasonryrepair-thumb.png",description:"Complete website redesign with modern UI, service showcase, before/after galleries, and lead generation forms.",client:"SE Masonry Repair",date:"January 2025",service:"Web Development & SEO",link:"https://semasonryrepair.com"},{title:"EGO Canna",image:"images/egocanna-thumb.png",description:"Full-featured e-commerce platform with age verification, product catalog, inventory management, and optimized checkout experience.",client:"EGO Canna",date:"February 2022",service:"eCommerce Solutions",link:"#"}],teamData=[{name:"Nathan Malinowski",role:"Lead Technical Consultant/Lead Developer",image:"images/nathan-malinowski.jpeg",bio:"Nathan Malinowski is a HealthTech engineering leader and entrepreneur...",linkedin:"https://www.linkedin.com/in/nathanielmalinowski/"},{name:"Alexis Malinowski",role:"Lead Creative Consultant/Graphic Artist",image:"images/alexis-malinowski.jpeg",bio:"Alexis Malinowski is an ISTQBâ€‘certified Software QA Engineer...",linkedin:"https://www.linkedin.com/in/alexismalinowski/"},{name:"Joe Tabora",role:"Lead Marketing Consultant/Developer",image:"images/joe-tabora.png",bio:"Joe Tabora is a customer success and growth leader...",linkedin:"https://www.linkedin.com/in/joseph-tabora-a3594525/"}],scheduleTask=window.requestIdleCallback||(e=>setTimeout(e,1));function init(){initNavigation(),initHeader(),scheduleTask(()=>initHeroBackground()),scheduleTask(()=>initScrollAnimations()),scheduleTask(()=>initRocket()),scheduleTask(()=>initLightbox()),scheduleTask(()=>initForm())}function initNavigation(){const e=document.getElementById("navToggle"),t=document.getElementById("navMenu");e&&t&&(e.addEventListener("click",()=>t.classList.toggle("active")),t.addEventListener("click",e=>{"A"===e.target.tagName&&t.classList.remove("active")})),document.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]');if(t){e.preventDefault();const n=document.querySelector(t.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}})}function initHeader(){const e=document.getElementById("header");if(!e)return;let t=!1;window.addEventListener("scroll",()=>{t||(requestAnimationFrame(()=>{e.classList.toggle("scrolled",window.scrollY>50),t=!1}),t=!0)},{passive:!0})}function initHeroBackground(){const e=document.getElementById("heroBg");if(!e)return;for(let t=0;t<50;t++){const n=document.createElement("div");n.className="star",n.style.left=100*Math.random()+"%",n.style.top=100*Math.random()+"%",n.style.opacity=Math.random(),n.style.animationDelay=5*Math.random()+"s",e.appendChild(n)}}function initScrollAnimations(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),e.target.style.transform="translateY(0)",e.target.style.opacity="1")})},{threshold:.1});document.querySelectorAll(".fade-in").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="all 0.6s ease-out",e.observe(t)})}function initRocket(){const e=document.getElementById("rocket"),t=document.getElementById("services");if(!e||!t)return;let n=!1;new IntersectionObserver(t=>{t[0].isIntersecting&&!n&&(n=!0,e.classList.add("launched"),setTimeout(()=>e.style.display="none",3e3))},{threshold:.3}).observe(t)}function initLightbox(){const e=document.getElementById("lightbox"),t=document.getElementById("lightboxImage"),n=document.getElementById("lightboxTitle"),i=document.getElementById("lightboxDescription"),o=document.getElementById("lightboxClient"),r=document.getElementById("lightboxDate"),a=document.getElementById("lightboxService"),s=document.getElementById("lightboxLink"),l=document.getElementById("lightboxClose");if(!e)return;document.querySelectorAll(".portfolio-item").forEach(l=>{l.addEventListener("click",()=>{const c=l.getAttribute("data-portfolio"),d=portfolioData[c];d&&(t.src=d.image,t.alt=d.title,n.textContent=d.title,i.textContent=d.description,o.textContent=d.client,r.textContent=d.date,a.textContent=d.service,s.href=d.link,"#"===d.link?s.style.display="none":s.style.display="inline-block",e.classList.add("active"),document.body.style.overflow="hidden")})});const c=()=>{e.classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{t.src=""},300)};l.addEventListener("click",c),e.addEventListener("click",t=>{t.target===e&&c()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&c()})}function initForm(){const e=document.getElementById("form");if(!e)return;const t={name:{el:document.getElementById("name"),error:document.getElementById("name-error")},email:{el:document.getElementById("email"),error:document.getElementById("email-error")},message:{el:document.getElementById("message"),error:document.getElementById("message-error")}};e.addEventListener("submit",async n=>{n.preventDefault();let i=!0;Object.keys(t).forEach(e=>{const n=t[e];n.el.value.trim()?(n.el.classList.remove("invalid"),n.error&&(n.error.textContent="")):(n.el.classList.add("invalid"),n.error&&(n.error.textContent=`${e.charAt(0).toUpperCase()+e.slice(1)} is required`),i=!1)});const o=e.querySelector('input[name="h-captcha-response"]');if(o&&!o.value)return void alert("Please complete the captcha.");if(!i)return;const r=e.querySelector('button[type="submit"]'),a=r.textContent;r.textContent="Sending...",r.disabled=!0;const s=new FormData(e),l=Object.fromEntries(s.entries());Array.isArray(l.access_key)&&(l.access_key=l.access_key[0]);const c=JSON.stringify(l);try{const n=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:c}),i=await n.json();200===n.status?(alert("Success! Your message has been sent."),e.reset(),Object.keys(t).forEach(e=>{t[e].el.classList.remove("valid","invalid"),t[e].error&&(t[e].error.textContent="")}),"undefined"!=typeof hcaptcha&&hcaptcha.reset()):alert("Error: "+(i.message||"Something went wrong. Please try again."))}catch(e){console.log(e),alert("Something went wrong. Please try again.")}finally{r.textContent=a,r.disabled=!1}})}document.addEventListener("DOMContentLoaded",init);